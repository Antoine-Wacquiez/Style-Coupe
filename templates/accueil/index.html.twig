{% extends 'base.html.twig' %}

{% block title %} STYLE & COUPE {% endblock %}

{% block body %}
   <!-- Section d'en-tête avec image de fond -->
    <div class="hero-banner position-relative text-center text-white py-5">
        <div class="overlay position-absolute top-0 start-0 w-100 h-100"></div>

        <div class="container position-relative z-1">
            {# {% if app.user %}
                <h1 class="display-4">Bienvenue <strong>{{ app.user.prenom }} {{ app.user.nom }}</strong> !</h1>
            {% else %}
                <h1 class="display-4">Bienvenue chez <strong>STYLE & COUPE</strong> !</h1>
            {% endif %}
            <p class="lead">Prenez rendez-vous en ligne pour une coupe homme ou femme en toute simplicité.</p> #}

            {% if is_granted('ROLE_ADMIN') %}
                <h1 class="display-4">Bienvenue <strong>Administrateur {{ app.user.prenom }}</strong></h1>
                <p class="lead">Accédez à votre espace d'administration ci-dessous.</p>
            {% elseif app.user %}
                <h1 class="display-4">Bienvenue <strong>{{ app.user.prenom }} {{ app.user.nom }}</strong> !</h1>
                <p class="lead">Prenez rendez-vous en ligne pour une coupe homme ou femme en toute simplicité.</p>
            {% else %}
                <h1 class="display-4">Bienvenue chez <strong>STYLE & COUPE</strong> !</h1>
                <p class="lead">Prenez rendez-vous en ligne pour une coupe homme ou femme en toute simplicité.</p>
                 <a href="{{ path('app_register') }}" class="btn btn-warning btn-lg mt-3 me-2 shadow-sm">
                    <i class="bi bi-person-plus"></i> Créer un compte
                </a>
                <a href="{{ path('app_login') }}" class="btn btn-outline-light btn-lg mt-3 shadow-sm">
                    <i class="bi bi-box-arrow-in-right"></i> Se connecter
                </a>
            {% endif %}

            {# {% if not app.user %}
                <a href="{{ path('app_register') }}" class="btn btn-warning btn-lg mt-3 me-2 shadow-sm">
                    <i class="bi bi-person-plus"></i> Créer un compte
                </a>
                <a href="{{ path('app_login') }}" class="btn btn-outline-light btn-lg mt-3 shadow-sm">
                    <i class="bi bi-box-arrow-in-right"></i> Se connecter
                </a>
            {% else %}
                <a href="#" class="btn btn-warning btn-lg mt-3">Prendre rendez-vous</a>
            {% endif %} #}
        </div>
    </div>

    <!-- Section prestations Admin -->

    {% if is_granted('ROLE_ADMIN') %}
    
    <section class="my-5">
    <h2 class="text-center mb-4">Espace administration</h2>
    <div class="row g-4">
        <!-- Prestations -->
        <div class="col-12 col-md-4">
            <div class="card prestation-card border-0 shadow h-100 text-center p-4">
                <div class="card-body">
                    <i class="bi bi-scissors text-warning display-4 mb-3"></i>
                    <h5 class="card-title">Prestations</h5>
                    <p class="card-text">{{ totalPrestations }} enregistrée(s)</p>
                    <a href="{{ path('app_prestation_index') }}" class="btn btn-outline-warning btn-sm mt-2">Gérer</a>
                </div>
            </div>
        </div>

        <!-- Utilisateurs -->
        <div class="col-12 col-md-4">
            <div class="card prestation-card border-0 shadow h-100 text-center p-4">
                <div class="card-body">
                    <i class="bi bi-people-fill text-warning display-4 mb-3"></i>
                    <h5 class="card-title">Utilisateurs</h5>
                    <p class="card-text">{{ totalUsers }} inscrit(s)</p>
                    <a href="{{ path('app_user_index') }}" class="btn btn-outline-warning btn-sm mt-2">Gérer</a>
                </div>
            </div>
        </div>

        <!-- Rendez-vous -->
        <div class="col-12 col-md-4">
            <div class="card prestation-card border-0 shadow h-100 text-center p-4">
                <div class="card-body">
                    <i class="bi bi-calendar2-week text-warning display-4 mb-3"></i>
                    <h5 class="card-title">Rendez-vous</h5>
                    <p class="card-text">Fonctionnalité à venir</p>
                    <a href="#" class="btn btn-outline-warning btn-sm mt-2 disabled">À venir</a>
                </div>
            </div>
        </div>
    </div>
</section>

    {% else %}

    <!-- Section prestations améliorée -->
    <section class="my-5">
        <h2 class="text-center mb-4">Nos prestations</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card prestation-card border-0 shadow h-100 text-center p-3">
                    <div class="card-body">
                        <i class="bi bi-person-fill text-info display-4 mb-3"></i>
                        <h5 class="card-title">Coupe Homme</h5>
                        <p class="card-text">Tendance, classique ou sur mesure, nos coiffeurs sont à votre écoute.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card prestation-card border-0 shadow h-100 text-center p-3">
                    <div class="card-body">
                        <i class="bi bi-person-fill-add text-danger display-4 mb-3"></i>
                        <h5 class="card-title">Coupe Femme</h5>
                        <p class="card-text">Brushing, balayage, coiffure de soirée, tout pour sublimer votre style.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card prestation-card border-0 shadow h-100 text-center p-3">
                    <div class="card-body">
                        <i class="bi bi-brightness-high text-warning display-4 mb-3"></i>
                        <h5 class="card-title">Soins & Barbe</h5>
                        <p class="card-text">Soins du cuir chevelu, taille de barbe, shampoings relaxants.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center mt-4">
            <a {# href="{{ path('app_prestations') }}"#} class="btn btn-outline-dark btn-lg">
                <i class="bi bi-scissors"></i> Voir toutes les prestations
            </a>
        </div>
    </section>


   <!-- Section Qui sommes-nous améliorée -->
    <section class="py-5 position-relative overflow-hidden">
        <div class="container">
            <div class="row align-items-center">
                <!-- Image à gauche -->
                <div class="col-md-6 mb-4 mb-md-0">
                    <div class="position-relative shadow rounded overflow-hidden">
                        <img src="{{ asset('img/salon.jpg') }}" alt="Salon de coiffure" class="img-fluid">
                        <div class="position-absolute top-0 start-0 bg-warning" style="width: 6px; height: 100%;"></div>
                    </div>
                </div>

                <!-- Texte à droite -->
                <div class="col-md-6">
                    <h2 class="mb-4 fw-bold"><i class="bi bi-house-fill text-warning me-2"></i>Qui sommes-nous ?</h2>
                    <p class="fs-5 mb-3">
                        <strong>STYLE & COUPE</strong> est un salon de coiffure moderne, mixte et élégant, situé au cœur de la ville.
                        Notre mission ? Vous offrir bien plus qu’une coupe : une vraie expérience.
                    </p>
                    <p class="text-muted">
                        Grâce à notre équipe passionnée et expérimentée, nous vous garantissons des prestations personnalisées, dans un cadre chaleureux et professionnel. Coupe tendance, brushing, soins ou coiffure événementielle, chaque rendez-vous est un moment pour vous.
                    </p>
                </div>
            </div>
        </div>
    </section>
    {% endif %}


{% endblock %}
